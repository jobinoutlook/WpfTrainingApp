<Application x:Class="WpfThemeApp2.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:WpfThemeApp2"
             StartupUri="MainWindow.xaml">
    <Application.Resources>
        <Style x:Key="CustomWindowStyle" TargetType="Window">
            <Setter Property="WindowStyle" Value="None"/>
            <Setter Property="AllowsTransparency" Value="True"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Window">
                        <Border BorderBrush="Gray" BorderThickness="1" Background="{TemplateBinding Background}">
                            <DockPanel>
                                <!-- Custom Title Bar -->
                                <Grid Background="#2D2D30" Height="32" DockPanel.Dock="Top"
                  MouseLeftButtonDown="TitleBar_MouseLeftButtonDown"
                  >
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Title -->
                                    <TextBlock Text="{TemplateBinding Title}"
                           VerticalAlignment="Center"
                           Foreground="White"
                           Margin="10,0,0,0"/>

                                    <!-- Minimize Button -->
                                    <Button Grid.Column="1" Content="—" Width="40" Height="32"
                        Click="Minimize_Click"/>

                                    <!-- Maximize/Restore Button -->
                                    <Button Grid.Column="2" Content="□" Width="40" Height="32"
                        Click="MaximizeRestore_Click"/>

                                    <!-- Close Button -->
                                    <Button Grid.Column="3" Content="X" Width="40" Height="32" Background="Red" Foreground="White"
                        Click="Close_Click"/>
                                </Grid>

                                <!-- Window Content -->
                                <AdornerDecorator>
                                    <ContentPresenter/>
                                </AdornerDecorator>
                            </DockPanel>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="CustomWindowStyle2" TargetType="Window">
            <Setter Property="WindowStyle" Value="None"/>
            <Setter Property="AllowsTransparency" Value="True"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Window">
                        <Border BorderBrush="Gray" BorderThickness="1" Background="{TemplateBinding Background}">
                            <DockPanel>
                                <!-- Custom Title Bar -->
                                <Grid Background="#2D2D30" Height="32" DockPanel.Dock="Top"
                  MouseLeftButtonDown="TitleBar_MouseLeftButtonDown"
                  >
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>

                                    </Grid.ColumnDefinitions>

                                    <!-- Title -->
                                    <TextBlock Text="{TemplateBinding Title}"
                           VerticalAlignment="Center"
                           Foreground="White"
                           Margin="10,0,0,0"/>


                                </Grid>

                                <!-- Window Content -->
                                <AdornerDecorator>
                                    <ContentPresenter/>
                                </AdornerDecorator>
                            </DockPanel>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </Application.Resources>
</Application>
